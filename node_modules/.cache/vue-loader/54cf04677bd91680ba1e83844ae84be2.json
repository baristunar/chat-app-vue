{"remainingRequest":"/home/btunar/Desktop/vue-chat-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/btunar/Desktop/vue-chat-app/src/components/chatSection.vue?vue&type=template&id=1172180d&scoped=true","dependencies":[{"path":"/home/btunar/Desktop/vue-chat-app/src/components/chatSection.vue","mtime":1610107628930},{"path":"/home/btunar/Desktop/vue-chat-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/btunar/Desktop/vue-chat-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/btunar/Desktop/vue-chat-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/btunar/Desktop/vue-chat-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/btunar/Desktop/vue-chat-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iY2FyZCBtci0xMCI+CiAgICA8dWwgY2xhc3M9Im1lc3NhZ2VzIiByZWY9ImNvbnRhaW5lciI+CiAgICAgIDxsaQogICAgICAgIDpjbGFzcz0ieyAnY3VycmVudC11c2VyJzogdXNlckluZm9bMF0udXNlcklEID09IGkudXNlcklEIH0iCiAgICAgICAgdi1mb3I9ImkgaW4gY2hhdExvZyIKICAgICAgICA6a2V5PSJpIgogICAgICAgIGNsYXNzPSJ0ZXh0LWNvbG9yLWJsYWNrIgogICAgICA+CiAgICAgICAge3sgaS5tZXNhaiB9fQogICAgICAgIDxzbWFsbD57eyBpLnRpbWUgfX08L3NtYWxsPgogICAgICA8L2xpPgogICAgPC91bD4KICAgIDxkaXYgY2xhc3M9InRleHQtY29udGFpbmVyIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtc3RhcnQgYWxpZ24taXRlbXMtc3RhcnQiPgogICAgICA8aW5wdXQgQGtleXByZXNzLmVudGVyPSJzZW5kTWVzc2FnZSIgdi1tb2RlbD0ibWVzc2FnZSIgdHlwZT0idGV4dCIgLz4KICAgICAgPGJ1dHRvbiA6ZGlzYWJsZWQ9ImlzRGlzYWJsZSIgY2xhc3M9ImJ0bi1wcmltYXJ5IiBAY2xpY2s9InNlbmRNZXNzYWdlIj4KICAgICAgICBTZW5kCiAgICAgIDwvYnV0dG9uPgogICAgPC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/home/btunar/Desktop/vue-chat-app/src/components/chatSection.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClC,CAAC,CAAC;QACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC1D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzB;QACE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5B,CAAC,CAAC,CAAC,CAAC;IACN,CAAC,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACxE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MACpE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/btunar/Desktop/vue-chat-app/src/components/chatSection.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"card mr-10\">\n    <ul class=\"messages\" ref=\"container\">\n      <li\n        :class=\"{ 'current-user': userInfo[0].userID == i.userID }\"\n        v-for=\"i in chatLog\"\n        :key=\"i\"\n        class=\"text-color-black\"\n      >\n        {{ i.mesaj }}\n        <small>{{ i.time }}</small>\n      </li>\n    </ul>\n    <div class=\"text-container d-flex justify-content-start align-items-start\">\n      <input @keypress.enter=\"sendMessage\" v-model=\"message\" type=\"text\" />\n      <button :disabled=\"isDisable\" class=\"btn-primary\" @click=\"sendMessage\">\n        Send\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  props: [\"userInfo\", \"changeToUser\"],\n  data() {\n    return {\n      chatLog: [],\n      message: \"\",\n    };\n  },\n\n  methods: {\n    addZero(i) {\n      if (i < 10) {\n        i = \"0\" + i;\n      }\n      return i;\n    },\n    scrollToEnd() {\n      let content = this.$refs.container;\n      content.scrollTop = content.scrollHeight;\n    },\n    sendMessage() {\n      const currentTime = new Date();\n      const currentHour = this.addZero(currentTime.getHours());\n      const currentMinute = this.addZero(currentTime.getMinutes());\n\n      while (this.message !== \"\") {\n        let chat = {\n          userID: this.userInfo[0].userID,\n          mesaj: this.message,\n          to: this.changeToUser.userID,\n          time: currentHour +\":\"+currentMinute\n        };\n        this.message = \"\";\n\n        axios\n          .post(\"http://localhost:3000/chat\", chat)\n          .then((save_message) => {\n            console.log(\"save_message\", save_message);\n            this.chatLog.push(save_message.data);\n          })\n          .catch((e) => {\n            console.log(\"e \", e);\n          });\n        console.log(chat);\n      }\n    },\n  },\n  computed: {\n    isDisable() {\n      return this.message == \"\" ? true : false;\n    },\n  },\n\n  updated() {\n    this.scrollToEnd();\n  },\n  mounted() {\n    this.scrollToEnd();\n  },\n  watch: {\n    changeToUser() {\n      axios\n        .get(\n          \"http://localhost:3000/chat?userID=\" +\n            this.userInfo[0].userID +\n            \"&to=\" +\n            this.changeToUser.userID +\n            \"&to=\" +\n            this.userInfo[0].userID +\n            \"&userID=\" +\n            this.changeToUser.userID\n        )\n        .then((response) => {\n          console.log(\"response chat\", response);\n          this.chatLog = [];\n          this.chatLog.push(...response.data);\n        })\n        .catch((e) => {\n          console.log(\"e\", e);\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.text-color-black {\n  color: black;\n}\n</style>\n"]}]}