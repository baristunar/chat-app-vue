{"remainingRequest":"/home/btunar/Desktop/vue-chat-app/node_modules/babel-loader/lib/index.js!/home/btunar/Desktop/vue-chat-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/btunar/Desktop/vue-chat-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/btunar/Desktop/vue-chat-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/btunar/Desktop/vue-chat-app/src/components/chatSection.vue?vue&type=template&id=1172180d&scoped=true","dependencies":[{"path":"/home/btunar/Desktop/vue-chat-app/src/components/chatSection.vue","mtime":1610107628930},{"path":"/home/btunar/Desktop/vue-chat-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/btunar/Desktop/vue-chat-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/btunar/Desktop/vue-chat-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/btunar/Desktop/vue-chat-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/btunar/Desktop/vue-chat-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgd2l0aEtleXMgYXMgX3dpdGhLZXlzLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTExNzIxODBkIik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi0xMTcyMTgwZCIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJjYXJkIG1yLTEwIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogIm1lc3NhZ2VzIiwKICByZWY6ICJjb250YWluZXIiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAidGV4dC1jb250YWluZXIgZC1mbGV4IGp1c3RpZnktY29udGVudC1zdGFydCBhbGlnbi1pdGVtcy1zdGFydCIKfTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoInVsIiwgX2hvaXN0ZWRfMiwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkZGF0YS5jaGF0TG9nLCBmdW5jdGlvbiAoaSkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJsaSIsIHsKICAgICAgY2xhc3M6IFt7CiAgICAgICAgJ2N1cnJlbnQtdXNlcic6ICRwcm9wcy51c2VySW5mb1swXS51c2VySUQgPT0gaS51c2VySUQKICAgICAgfSwgInRleHQtY29sb3ItYmxhY2siXSwKICAgICAga2V5OiBpCiAgICB9LCBbX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKGkubWVzYWopICsgIiAiLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlVk5vZGUoInNtYWxsIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhpLnRpbWUpLCAxCiAgICAvKiBURVhUICovCiAgICApXSwgMgogICAgLyogQ0xBU1MgKi8KICAgICk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICBvbktleXByZXNzOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IF93aXRoS2V5cyhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5zZW5kTWVzc2FnZSAmJiAkb3B0aW9ucy5zZW5kTWVzc2FnZS5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0sIFsiZW50ZXIiXSkpLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRkYXRhLm1lc3NhZ2UgPSAkZXZlbnQ7CiAgICB9KSwKICAgIHR5cGU6ICJ0ZXh0IgogIH0sIG51bGwsIDU0NAogIC8qIEhZRFJBVEVfRVZFTlRTLCBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJGRhdGEubWVzc2FnZV1dKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICBkaXNhYmxlZDogJG9wdGlvbnMuaXNEaXNhYmxlLAogICAgY2xhc3M6ICJidG4tcHJpbWFyeSIsCiAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLnNlbmRNZXNzYWdlICYmICRvcHRpb25zLnNlbmRNZXNzYWdlLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAiIFNlbmQgIiwgOAogIC8qIFBST1BTICovCiAgLCBbImRpc2FibGVkIl0pXSldKTsKfSk7"},{"version":3,"sources":["/home/btunar/Desktop/vue-chat-app/src/components/chatSection.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;AACL,EAAA,KAAK,EAAC,U;AAAW,EAAA,GAAG,EAAC;;;AAWpB,EAAA,KAAK,EAAC;;;;;;uBAZb,YAAA,CAkBM,KAlBN,EAAA,UAAA,EAkBM,CAjBJ,YAAA,CAUK,IAVL,EAAA,UAAA,EAUK,E,kBATH,YAAA,CAQK,SARL,EAQK,IARL,EAQK,WAAA,CANS,KAAA,CAAA,OAMT,EANgB,UAAZ,CAAY,EAAX;yBAFV,YAAA,CAQK,IARL,EAQK;AAPF,MAAA,KAAK,EAAA,CAAA;AAAA,wBAAoB,MAAA,CAAA,QAAA,CAAQ,CAAR,EAAY,MAAZ,IAAsB,CAAC,CAAC;AAA5C,OAAA,EAGA,kBAHA,CAOH;AALF,MAAA,GAAG,EAAE;AAKH,KARL,E,mCAMK,CAAC,CAAC,K,IAAQ,G,EACb;AAAA;OAAA,YAAA,CAA2B,OAA3B,EAA2B,IAA3B,EAA2B,gBAAA,CAAjB,CAAC,CAAC,IAAe,CAA3B,EAAgB;AAAA;AAAhB,K,CAPF,E;;AAAA,K;GAQK,CARL,E;;AAAA,GASG,EAVL,E;;AAAA,GAiBI,EANJ,YAAA,CAKM,KALN,EAAA,UAAA,EAKM,C,gBAJJ,YAAA,CAAqE,OAArE,EAAqE;AAA7D,IAAA,UAAQ,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,SAAA,CAAA;AAAA,aAAQ,QAAA,CAAA,WAAA,IAAA,QAAA,CAAA,WAAA,OAAA,QAAA,YAAR;AAAA,KAAA,EAAmB,CAAA,OAAA,CAAnB,CAAA,CAAqD;;aAAvB,KAAA,CAAA,OAAA,GAAO,M;MAAgB;AAAd,IAAA,IAAI,EAAC;AAAS,GAArE,E,IAAA,E;;AAAA,G,iBAA8C,KAAA,CAAA,O,GAI1C,EAHJ,YAAA,CAES,QAFT,EAES;AAFA,IAAA,QAAQ,EAAE,QAAA,CAAA,SAEV;AAFqB,IAAA,KAAK,EAAC,aAE3B;AAF0C,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,WAAA,IAAA,QAAA,CAAA,WAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAE/C,GAFT,EAAuE,QAAvE,EAEA;AAAA;AAFA,IAEA,CAAA,UAAA,CAFA,CAGI,CALN,CAMI,CAlBN,C","sourcesContent":["<template>\n  <div class=\"card mr-10\">\n    <ul class=\"messages\" ref=\"container\">\n      <li\n        :class=\"{ 'current-user': userInfo[0].userID == i.userID }\"\n        v-for=\"i in chatLog\"\n        :key=\"i\"\n        class=\"text-color-black\"\n      >\n        {{ i.mesaj }}\n        <small>{{ i.time }}</small>\n      </li>\n    </ul>\n    <div class=\"text-container d-flex justify-content-start align-items-start\">\n      <input @keypress.enter=\"sendMessage\" v-model=\"message\" type=\"text\" />\n      <button :disabled=\"isDisable\" class=\"btn-primary\" @click=\"sendMessage\">\n        Send\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  props: [\"userInfo\", \"changeToUser\"],\n  data() {\n    return {\n      chatLog: [],\n      message: \"\",\n    };\n  },\n\n  methods: {\n    addZero(i) {\n      if (i < 10) {\n        i = \"0\" + i;\n      }\n      return i;\n    },\n    scrollToEnd() {\n      let content = this.$refs.container;\n      content.scrollTop = content.scrollHeight;\n    },\n    sendMessage() {\n      const currentTime = new Date();\n      const currentHour = this.addZero(currentTime.getHours());\n      const currentMinute = this.addZero(currentTime.getMinutes());\n\n      while (this.message !== \"\") {\n        let chat = {\n          userID: this.userInfo[0].userID,\n          mesaj: this.message,\n          to: this.changeToUser.userID,\n          time: currentHour +\":\"+currentMinute\n        };\n        this.message = \"\";\n\n        axios\n          .post(\"http://localhost:3000/chat\", chat)\n          .then((save_message) => {\n            console.log(\"save_message\", save_message);\n            this.chatLog.push(save_message.data);\n          })\n          .catch((e) => {\n            console.log(\"e \", e);\n          });\n        console.log(chat);\n      }\n    },\n  },\n  computed: {\n    isDisable() {\n      return this.message == \"\" ? true : false;\n    },\n  },\n\n  updated() {\n    this.scrollToEnd();\n  },\n  mounted() {\n    this.scrollToEnd();\n  },\n  watch: {\n    changeToUser() {\n      axios\n        .get(\n          \"http://localhost:3000/chat?userID=\" +\n            this.userInfo[0].userID +\n            \"&to=\" +\n            this.changeToUser.userID +\n            \"&to=\" +\n            this.userInfo[0].userID +\n            \"&userID=\" +\n            this.changeToUser.userID\n        )\n        .then((response) => {\n          console.log(\"response chat\", response);\n          this.chatLog = [];\n          this.chatLog.push(...response.data);\n        })\n        .catch((e) => {\n          console.log(\"e\", e);\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.text-color-black {\n  color: black;\n}\n</style>\n"],"sourceRoot":""}]}